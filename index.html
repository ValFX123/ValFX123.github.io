<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>SourMarket</title>
  <link rel="icon" type="image/png" href="https://i.imgur.com/KcfZIqA.png">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:700,400|Orbitron:800&display=swap" rel="stylesheet">
  <style>
    :root {
      --pink1: #fff1fa;
      --pink2: #ffe4ec;
      --pink3: #ffb6e0;
      --pink4: #ffa1d7;
      --pink5: #ff5ea7;
      --pink6: #c92d70;
      --green1: #d3ffd3;
      --white: #fff;
      --gray: #f7f7fa;
      --shadow: 0 4px 24px 0 rgba(252, 64, 153, 0.08);
      --transition: .18s cubic-bezier(.38,1.6,.62,1);
    }
    html { scroll-behavior: smooth;}
    body {
      font-family: 'Montserrat', Arial, sans-serif;
      background: linear-gradient(120deg, var(--pink1), var(--pink2) 90%);
      margin: 0;
      color: #402548;
      min-height: 100vh;
      scroll-behavior: smooth;
      overflow-x: hidden;
    }
    header {
      position: sticky; top: 0; z-index: 100;
      background: rgba(255, 244, 250, 0.94);
      box-shadow: var(--shadow);
      display: flex; align-items: center; justify-content: space-between;
      padding: 0.7rem 2.2rem 0.7rem 1rem;
      transition: box-shadow .2s;
    }
    .logo {
      font-family: 'Orbitron', sans-serif;
      font-weight: 800;
      font-size: 1.65rem;
      color: var(--pink6);
      display: flex; align-items: center;
      letter-spacing: 2px;
      gap: 0.7em;
    }
    .logo img {
      width: 38px; height: 38px; border-radius: 50%; border: 2.5px solid var(--pink4); background: #fff;
      box-shadow: 0 2px 6px #ffa8ce37;
    }
    nav { display: flex; gap: 2rem;}
    nav a {
      color: var(--pink6);
      text-decoration: none;
      font-weight: 700;
      font-size: 1.1rem;
      padding: 0.35em 0.85em;
      border-radius: 1em;
      transition: background var(--transition), color var(--transition);
      outline: none;
    }
    nav a.active, nav a:focus, nav a:hover {
      background: var(--pink4);
      color: var(--white);
    }
    main { padding: 3.3rem 1rem 2.5rem 1rem; max-width: 1100px; margin: 0 auto; }
    section { margin-bottom: 3.5rem;}
    h1, h2, h3 { font-family: 'Orbitron', sans-serif; color: var(--pink6); }
    h1 { font-size: 2.5rem; margin-top: 1.4rem; letter-spacing:1px;}
    .section-title { font-size:2rem;margin-bottom:1.7rem;text-align:center;letter-spacing:1.5px; }
    .stats {
      display: flex; justify-content: center; gap: 2.5rem; flex-wrap: wrap;
      margin: 2.3rem 0 1.8rem 0;
    }
    .stat {
      text-align: center;
      background: var(--white);
      border-radius: 1.2em;
      box-shadow: var(--shadow);
      padding: 1rem 2.2rem;
      min-width: 110px;
      transform: translateY(25px);
      opacity: 0;
      animation: statFade .7s .12s forwards;
    }
    .stat .num { font-size: 2.15rem; font-weight: 900; color: var(--pink5);}
    .stat .label { font-size: 1.02rem; color: #b5678b; }
    .btn, button, input[type=button] {
      background: linear-gradient(92deg, var(--pink5) 45%, var(--pink4) 95%);
      color: #fff;
      border: none;
      border-radius: 1.2em;
      font-weight: bold;
      font-size: 1.09rem;
      padding: 0.7em 2em;
      cursor: pointer;
      box-shadow: 0 2px 12px 0 #ffc8df2c;
      outline:none;
      transition: background var(--transition), transform .13s;
    }
    .btn:hover, button:hover, input[type=button]:hover {
      background: linear-gradient(94deg, var(--pink6), var(--pink4));
      transform: scale(1.05);
    }
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px,1fr));
      gap: 2rem;
      margin-top: 1.2rem;
    }
    .product-card {
      background: var(--white);
      border-radius: 1.2em;
      box-shadow: 0 4px 24px 0 #ff5ea718;
      padding: 1.3rem 1.2rem;
      text-align: center;
      cursor: pointer;
      transition: box-shadow .18s, transform .18s;
      position: relative;
      overflow: hidden;
      transform: translateY(45px);
      opacity: 0;
      animation: prodFade .8s forwards;
    }
    .product-card:hover {
      transform: scale(1.04) translateY(-4px);
      box-shadow: 0 10px 32px 2px #ffb6e032;
      z-index: 2;
    }
    .product-card .icon {
      width: 45px; height: 45px;
      margin-bottom: 0.8em;
      filter: drop-shadow(0 2px 4px #ffa8ce50);
    }
    .product-title { font-weight: 800; color: var(--pink6); font-size: 1.22rem; }
    .product-price { color: var(--pink5); font-size: 1.16rem; font-weight: bold;}
    .old-price { text-decoration: line-through; color: #d4a3bc; font-size: 0.96em; margin-left: 6px; }
    .product-stock { color: #a971a1; font-size: 0.9em; }
    .product-card .btn {
      font-size: 1em; margin-top: 1.1em;
      width: 93%;
      padding: 0.7em 0;
    }
    .product-desc {
      color: #813a74;
      font-size: 0.97em;
      margin: 0.55em 0 0 0;
      min-height: 2.2em;
    }
    /* Modal */
    .modal-bg {
      position: fixed; top:0; left:0; width:100vw; height:100vh;
      background: rgba(220, 49, 112, 0.18);
      display: flex; align-items: center; justify-content: center;
      z-index: 1111;
      transition: background .16s;
      animation: fadeinBg .17s;
    }
    @keyframes fadeinBg { from {background:rgba(0,0,0,0);} to {background:rgba(220, 49, 112, 0.18);} }
    .modal {
      background: var(--white);
      border-radius: 1.45em;
      max-width: 410px;
      padding: 2.1rem 1.6rem 2.4rem 1.6rem;
      box-shadow: 0 8px 44px 2px #ffb6e059;
      text-align: center;
      position: relative;
      animation: pop .22s cubic-bezier(.4,2,.7,1) 1;
    }
    @keyframes pop { 0% {transform: scale(.92);} 100% {transform: scale(1);} }
    .modal-close {
      position: absolute; right: 1.0em; top: 1.0em;
      font-size: 1.7rem; color: var(--pink5); background: none; border: none; cursor: pointer;
      line-height: 1;
    }
    .modal-title { font-size: 1.31rem; font-weight: bold; color: var(--pink6); margin-bottom: 0.15em;}
    .modal-desc { color: #803667; font-size: 1.02rem; margin-bottom: 0.38em;}
    .modal .product-price { font-size: 1.19rem;}
    .modal .btn {
      font-size: 1.08em; margin-top: 1.7em;
      width: 90%;
      padding: 0.74em 0;
    }
    /* PayPal warning popup */
    .paypal-popup {
      background: #fff4fa;
      border: 2px solid var(--pink4);
      border-radius: 1.5em;
      padding: 2rem 1.3rem;
      color: var(--pink6);
      font-size: 1.09em;
      box-shadow: 0 6px 44px 2px #ff5ea755;
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%,-50%);
      z-index: 2200;
      max-width: 98vw;
      text-align: center;
      animation: pop .13s cubic-bezier(.5,1.4,.7,1.2) 1;
    }
    .paypal-popup strong { color: var(--pink5);}
    .paypal-popup button {
      margin-top: 1.6em;
      width: 80%;
      font-size: 1em;
    }
    /* Reviews */
    .reviews-list {
      margin: 2.2em 0 0 0;
      display: flex; flex-direction: column; gap: 1.2em;
      max-width: 650px; margin-left: auto; margin-right: auto;
      animation: fadeinBg .38s;
    }
    .review-card {
      background: var(--white);
      border-radius: 1em;
      box-shadow: 0 2px 16px #ffb6e033;
      padding: 1.1em 1.35em 1.2em 1.35em;
      display: flex; flex-direction: column;
      gap: 0.5em;
      border-left: 6px solid var(--pink4);
      position: relative;
      opacity: 0;
      transform: translateY(24px);
      animation: reviewFade .7s forwards;
    }
    @keyframes statFade {
      to { opacity:1; transform:translateY(0);}
    }
    @keyframes prodFade {
      40% {opacity:1;transform:translateY(-10px);}
      100% {opacity:1;transform:translateY(0);}
    }
    @keyframes reviewFade {
      40% {opacity:1;transform:translateY(-8px);}
      100% {opacity:1;transform:translateY(0);}
    }
    .reviewer {
      font-weight: bold; color: var(--pink5);
      font-size: 1.07em;
      display: flex; align-items: center; gap:0.6em;
    }
    .review-rating {
      color: #ffd6f1;
      font-size: 1.12em;
      margin-right: 0.45em;
      letter-spacing: 0.06em;
      text-shadow: 0 2px 3px #ffa8ce55;
      font-weight:bold;
    }
    .review-text {
      color: #6e3171;
      font-size: 1.01em;
    }
    .review-date {
      font-size:0.93em; color:#d8b1c5;
    }
    .review-form {
      background: var(--pink2);
      border-radius: 1.2em;
      box-shadow: 0 2px 16px #ffb6e019;
      padding: 1.1em 1.2em;
      margin: 2.1em auto 0 auto;
      max-width: 440px;
      display: flex; flex-direction: column; gap: 0.6em;
      animation: fadeinBg .6s;
    }
    .review-form input, .review-form textarea, .review-form select {
      font-family: inherit;
      font-size: 1em;
      padding: 0.55em 0.7em;
      border-radius: 0.6em;
      border: 1.5px solid var(--pink3);
      background: #fff;
      color: #6e3171;
      outline: none;
      resize: none;
      transition: border-color .13s;
    }
    .review-form input:focus, .review-form textarea:focus, .review-form select:focus {
      border-color: var(--pink5);
    }
    .review-form label { font-weight: bold; color: var(--pink6); font-size: 1em;}
    .review-form button {
      margin-top:0.5em;align-self:flex-end;min-width:130px;
    }
    .review-form .err { color:var(--pink6); font-size:0.98em; margin:0.2em 0;}
    /* Scroll arrows */
    .scroll-arrow {
      position: fixed;
      left: 50%;
      bottom: 32px;
      transform: translateX(-50%);
      font-size: 2.6rem;
      color: var(--pink5);
      background: #fff6fcf2;
      border-radius: 50%;
      box-shadow: 0 2px 18px #ffb6e04c;
      cursor: pointer;
      z-index:99;
      width: 54px; height:54px;
      display: flex;align-items:center;justify-content:center;
      animation: arrowPulse 1.2s infinite alternate;
      transition: opacity .16s;
    }
    @keyframes arrowPulse { to {transform:translateX(-50%) scale(1.08);} }
    .scroll-arrow.hide { opacity:0;pointer-events:none;}
    /* Responsive */
    @media (max-width: 650px) {
      header {flex-direction:column;gap:0.7em;padding:0.8rem;}
      .stats { gap: 1.15rem;}
      .products-grid { gap: 1.12rem;}
      .modal { padding: 1.1rem 0.6rem 1.4rem 0.6rem;}
      .review-form { padding:0.7em 0.4em;}
      .review-card { padding:0.85em 0.7em;}
      .scroll-arrow {font-size:2.2rem; width:42px;height:42px;}
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo">
      <img src="https://i.imgur.com/KcfZIqA.png" alt="SourMarket logo">
      SourMarket
    </div>
    <nav>
      <a href="#home" class="active" onclick="switchSection('home');return false;">Home</a>
      <a href="#products" onclick="switchSection('products');return false;">Products</a>
      <a href="#reviews" onclick="switchSection('reviews');return false;">Reviews</a>
    </nav>
  </header>
  <!-- Down Arrow for Scroll -->
  <div class="scroll-arrow" id="scroll-arrow" onclick="scrollToNext()">
    &#8595;
  </div>
  <!-- Main -->
  <main>
    <!-- HOME -->
    <section id="home" style="margin-top:2em;">
      <h1>Welcome to <span style="color: var(--pink5)">SourMarket</span>!</h1>
      <p style="max-width:580px;margin:auto;font-size:1.19rem;line-height:1.66;color:#6e2a63;margin-top:1.18em;">
        We specialize in unique custom items for everyone! <br>
        <b>Necklaces, chains, skateboards, pillows, keychains, re-textures, custom orders, and more!</b><br>
        <span style="color: var(--pink5);font-weight:600;">Mix & Match available.</span> Surprise yourself or create a ticket for a one-of-a-kind request.
      </p>
      <div class="stats">
        <div class="stat"><div class="num">43</div><div class="label">PRODUCTS SOLD</div></div>
        <div class="stat"><div class="num">37</div><div class="label">TOTAL CUSTOMERS</div></div>
        <div class="stat"><div class="num">12</div><div class="label">REVIEWS RECEIVED</div></div>
        <div class="stat"><div class="num">4.98</div><div class="label">AVERAGE RATING</div></div>
      </div>
      <div style="text-align:center; margin-top:2.0em;">
        <button class="btn" onclick="switchSection('products');window.scrollTo(0,0);">View Products</button>
      </div>
    </section>
    <!-- PRODUCTS -->
    <section id="products" style="display:none;">
      <div class="section-title">Our Products</div>
      <div class="products-grid" id="products-grid">
        <!-- JS FILLS HERE -->
      </div>
    </section>
    <!-- REVIEWS -->
    <section id="reviews" style="display:none;">
      <div class="section-title">Customer Reviews</div>
      <div class="reviews-list" id="reviews-list">
        <!-- JS FILLS REVIEWS HERE -->
      </div>
      <form class="review-form" id="review-form" autocomplete="off" onsubmit="return addReview(event)">
        <label for="review-name">Your Name:</label>
        <input id="review-name" name="name" type="text" maxlength="20" required placeholder="Name">
        <label for="review-rating">Rating:</label>
        <select id="review-rating" name="rating" required>
          <option value="5">5 - Excellent!</option>
          <option value="4">4 - Good</option>
          <option value="3">3 - Okay</option>
          <option value="2">2 - Bad</option>
          <option value="1">1 - Awful</option>
        </select>
        <label for="review-text">Your Review:</label>
        <textarea id="review-text" name="review" rows="3" maxlength="300" required placeholder="Write your experience here..."></textarea>
        <div class="err" id="review-error"></div>
        <button type="submit" class="btn">Submit Review</button>
      </form>
    </section>
  </main>
  <!-- Modal for product details -->
  <div id="product-modal-bg" class="modal-bg" style="display:none;">
    <div class="modal" id="product-modal">
      <button class="modal-close" onclick="closeModal()">&times;</button>
      <div>
        <img class="icon" src="https://i.imgur.com/KcfZIqA.png" alt="icon" style="width:54px;height:54px;margin-bottom:0.8em;">
      </div>
      <div class="modal-title" id="modal-title"></div>
      <div class="modal-desc" id="modal-desc"></div>
      <div>
        <span class="product-price" id="modal-price"></span>
      </div>
      <div class="product-stock" id="modal-stock"></div>
      <button class="btn" style="margin-top:2em;" onclick="showPaypalPopup()">Pay with PayPal</button>
    </div>
  </div>
  <!-- PayPal warning popup -->
  <div id="paypal-popup" class="paypal-popup" style="display:none;">
    <div style="font-size:1.21em;font-weight:bold;margin-bottom:0.7em;">PayPal Payment Notice</div>
    <div>
      Please send payment via <strong>Friends &amp; Family</strong> only.<br>
      <span style="color: var(--pink5);font-weight:bold;">Do not add any notes!</span>
    </div>
    <button onclick="hidePaypalPopup()">Okay, got it!</button>
  </div>
  <script>
    // Products data
    const products = [
      {
        name: "Necklaces",
        price: "$10",
        extra: "Charms are $2-$4 depending on what it is",
        desc: "Custom necklaces, add your favorite charms for just $2-$4 each!",
        stock: "∞"
      },
      {
        name: "Iced Out Chain",
        price: "$15",
        desc: "Super shiny iced out chains to level up any outfit.",
        stock: "∞"
      },
      {
        name: "Skateboard",
        price: "$15",
        desc: "Fully customizable skateboard for cruising in style.",
        stock: "∞"
      },
      {
        name: "Mini Shoulder Pal",
        price: "$15",
        desc: "A mini plush pal that sits on your shoulder. So cute!",
        stock: "∞"
      },
      {
        name: "Mini Avatar Keychain",
        price: "$20",
        desc: "Take your mini avatar anywhere you go, on your keys or bag!",
        stock: "∞"
      },
      {
        name: "Custom pillows - Small",
        price: "$10",
        desc: "Small custom pillows for your room or as gifts.",
        stock: "∞"
      },
      {
        name: "Custom pillows - Big",
        price: "$15",
        desc: "Big custom pillows for extra comfort and fun.",
        stock: "∞"
      },
      {
        name: "Re-Textures",
        price: "$20-$50",
        desc: "Custom re-textures for your favorite items, prices vary.",
        stock: "∞"
      },
      {
        name: "Custom Orders",
        price: "$10-$100",
        desc: "Want something totally unique? Send your idea for a custom quote.",
        stock: "∞"
      }
    ];

    // Example reviews
    let reviews = [
      {name:"Ava", rating:5, text:"Absolutely loved my necklace! Fast shipping and so cute.", date:"2025-07-17"},
      {name:"Jay", rating:4, text:"The pillow is great quality. Will buy again!", date:"2025-07-13"},
      {name:"Sophie", rating:5, text:"Skateboard was amazing. Highly recommend.", date:"2025-07-12"}
    ];

    // Render products
    function renderProducts() {
      const grid = document.getElementById("products-grid");
      grid.innerHTML = "";
      products.forEach((prod, i) => {
        const div = document.createElement("div");
        div.className = "product-card";
        div.style.animationDelay = `${0.06 * i + 0.15}s`;
        div.innerHTML = `
          <img src="https://i.imgur.com/KcfZIqA.png" class="icon" alt="icon">
          <div class="product-title">${prod.name}</div>
          <div class="product-desc">${prod.desc || ""}</div>
          <div style="margin-top:0.47em;">
            <span class="product-price">${prod.price}</span>
          </div>
          ${prod.extra ? `<div style="font-size:0.98em;color:#c92d70;margin-top:0.2em;">${prod.extra}</div>` : ""}
          <div class="product-stock">In Stock: ${prod.stock}</div>
          <button class="btn" onclick="openModal(${i});event.stopPropagation();">View Details</button>
        `;
        div.onclick = () => openModal(i);
        grid.appendChild(div);
      });
    }
    renderProducts();

    // Modal logic
    function openModal(idx) {
      const prod = products[idx];
      document.getElementById("modal-title").innerText = prod.name;
      document.getElementById("modal-desc").innerText = prod.desc || "";
      document.getElementById("modal-price").innerText = prod.price + (prod.extra ? " | " + prod.extra : "");
      document.getElementById("modal-stock").innerText = `In Stock: ${prod.stock}`;
      document.getElementById("product-modal-bg").style.display = "flex";
      document.body.style.overflow = "hidden";
    }
    function closeModal() {
      document.getElementById("product-modal-bg").style.display = "none";
      document.body.style.overflow = "";
    }

    // PayPal popup
    function showPaypalPopup() {
      document.getElementById("paypal-popup").style.display = "block";
    }
    function hidePaypalPopup() {
      document.getElementById("paypal-popup").style.display = "none";
    }

    // Reviews
    function renderReviews() {
      const list = document.getElementById("reviews-list");
      list.innerHTML = "";
      reviews.slice().reverse().forEach((r, i) => {
        const div = document.createElement("div");
        div.className = "review-card";
        div.style.animationDelay = `${0.06 * i + 0.12}s`;
        div.innerHTML = `
          <span class="reviewer">
            <span class="review-rating">${"★".repeat(r.rating)}${"☆".repeat(5 - r.rating)}</span>
            ${escapeHtml(r.name)}
          </span>
          <div class="review-text">${escapeHtml(r.text)}</div>
          <div class="review-date">${escapeHtml(r.date)}</div>
        `;
        list.appendChild(div);
      });
    }
    renderReviews();

    // Add review (client-side, no backend)
    function addReview(e) {
      e.preventDefault();
      const name = document.getElementById("review-name").value.trim();
      const rating = +document.getElementById("review-rating").value;
      const text = document.getElementById("review-text").value.trim();
      const err = document.getElementById("review-error");
      err.innerText = "";
      if(name.length < 2) {err.innerText="Name must be at least 2 characters.";return false;}
      if(text.length < 8) {err.innerText="Review must be at least 8 characters.";return false;}
      if(text.length > 300) {err.innerText="Keep your review under 300 characters.";return false;}
      reviews.push({
        name: escapeHtml(name),
        rating: rating,
        text: escapeHtml(text),
        date: (new Date()).toISOString().split("T")[0]
      });
      renderReviews();
      document.getElementById("review-form").reset();
      err.innerText="Thank you for your review!";
      setTimeout(()=>{err.innerText="";},1800);
      return false;
    }

    // Escape html
    function escapeHtml(t) { return t.replace(/[&<>"']/g, s => ({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[s])); }

    // Section navigation with scroll & update nav highlight
    let sectionOrder = ["home","products","reviews"];
    function switchSection(name) {
      sectionOrder.forEach(id => {
        document.getElementById(id).style.display = (id === name) ? "block" : "none";
        document.querySelectorAll('nav a').forEach(a => {
          a.classList.toggle("active", a.getAttribute('href') === "#" + name);
        });
      });
      setTimeout(updateArrow, 180);
      document.getElementById(name).scrollIntoView({behavior:"smooth"});
    }
    // Scroll arrow logic
    function scrollToNext() {
      let curr = getCurrentSectionIndex();
      let next = Math.min(curr+1, sectionOrder.length-1);
      if(curr!==next) switchSection(sectionOrder[next]);
    }
    function getCurrentSectionIndex() {
      let idx = sectionOrder.findIndex(id => document.getElementById(id).style.display !== "none");
      return idx === -1 ? 0 : idx;
    }
    function updateArrow() {
      let idx = getCurrentSectionIndex();
      let arrow = document.getElementById("scroll-arrow");
      if(idx < sectionOrder.length-1) {
        arrow.classList.remove("hide");
      } else {
        arrow.classList.add("hide");
      }
    }
    // Also scroll on page scroll (if wanted)
    document.addEventListener("keydown", function(e){
      if(e.key==="ArrowDown" || e.key==="PageDown") scrollToNext();
      if(e.key==="ArrowUp" || e.key==="PageUp") {
        let curr = getCurrentSectionIndex();
        let prev = Math.max(0, curr-1);
        if(curr!==prev) switchSection(sectionOrder[prev]);
      }
    });
    // Hash navigation on page load
    window.onload = function() {
      if(location.hash && ["#home","#products","#reviews"].includes(location.hash)){
        switchSection(location.hash.substring(1));
      } else {
        switchSection('home');
      }
    }
    window.onhashchange = function() {
      if(location.hash && ["#home","#products","#reviews"].includes(location.hash)){
        switchSection(location.hash.substring(1));
      }
    }
  </script>
</body>
</html>
